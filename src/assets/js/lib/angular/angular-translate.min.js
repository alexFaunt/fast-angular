angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage();if(n){if(!n.get(t)){if(angular.isString(e.preferredLanguage())){e.use(e.preferredLanguage())}else{n.set(t,e.use())}}else{e.use(n.get(t))}}else if(angular.isString(e.preferredLanguage())){e.use(e.preferredLanguage())}}]);angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t={},n,r="default",i=null,s={escaped:function(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=angular.element("<div></div>").text(e[n]).html()}}return t}};var o=function(e){var t;if(angular.isFunction(s[i])){t=s[i](e)}else{t=e}return t};t.setLocale=function(e){n=e};t.getInterpolationIdentifier=function(){return r};t.useSanitizeValueStrategy=function(e){i=e;return this};t.interpolate=function(t,n){if(i){n=o(n)}return e(t)(n||{})};return t}]);angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",["$log",function(e){return function(t){e.warn("Translation for "+t+" doesn't exist")}}]);angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix)){throw new Error("Couldn't load static files, no prefix or suffix specified!")}var r=e.defer();t({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""}).success(function(e){r.resolve(e)}).error(function(e){r.reject(n.key)});return r.promise}}]);angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY");angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function(e,t){var n=function(){var t;return{get:function(n){if(!t){t=e.localStorage.getItem(n)}return t},set:function(n,r){t=r;e.localStorage.setItem(n,r)}}}();var r="localStorage"in e&&e.localStorage!==null;if(r){var i="pascalprecht.translate.storageTest";try{e.localStorage.setItem(i,"foo");e.localStorage.removeItem(i)}catch(s){r=false}}var o=r?n:t;return o}]);angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function(e){var t={get:function(t){return e.get(t)},set:function(t,n){e.put(t,n)}};return t}]);angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t={},n,r=[],i,s,o,u,a,f,l=e,c,h,p,d=[],v=false,m,g="translate-cloak",y,b,w,E=false,S=".";var x=function(){var e=window.navigator;return(e.language||e.browserLanguage||e.systemLanguage||e.userLanguage||"").split("-").join("_")};var T=function(e){var t=[],n=angular.lowercase(e),s=0,o=r.length;for(;s<o;s++){t.push(angular.lowercase(r[s]))}if(t.indexOf(n)>-1){return e}if(i){var u;for(var a in i){var f=false;var l=i.hasOwnProperty(a)&&angular.lowercase(a)===angular.lowercase(e);if(a.slice(-1)==="*"){f=a.slice(0,-1)===e.slice(0,a.length-1)}if(l||f){u=i[a];if(t.indexOf(angular.lowercase(u))>-1){return u}}}}var c=e.split("_");if(c.length>1&&t.indexOf(angular.lowercase(c[0]))>-1){return c[0]}return e};var N=function(e,n){if(!e&&!n){return t}if(e&&!n){if(angular.isString(e)){return t[e]}}else{if(!angular.isObject(t[e])){t[e]={}}angular.extend(t[e],C(n))}return this};this.translations=N;this.cloakClassName=function(e){if(!e){return g}g=e;return this};var C=function(e,t,n,r){var i,s,o,u;if(!t){t=[]}if(!n){n={}}for(i in e){if(!e.hasOwnProperty(i)){continue}u=e[i];if(angular.isObject(u)){C(u,t.concat(i),n,i)}else{s=t.length?""+t.join(S)+S+i:i;if(t.length&&i===r){o=""+t.join(S);n[o]="@:"+s}n[s]=u}}return n};this.addInterpolation=function(e){d.push(e);return this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(e){p=e;return this};this.useSanitizeValueStrategy=function(e){v=e;return this};this.preferredLanguage=function(e){if(e){n=e;return this}return n};this.translationNotFoundIndicator=function(e){this.translationNotFoundIndicatorLeft(e);this.translationNotFoundIndicatorRight(e);return this};this.translationNotFoundIndicatorLeft=function(e){if(!e){return b}b=e;return this};this.translationNotFoundIndicatorRight=function(e){if(!e){return w}w=e;return this};this.fallbackLanguage=function(e){k(e);return this};var k=function(e){if(e){if(angular.isString(e)){o=true;s=[e]}else if(angular.isArray(e)){o=false;s=e}if(angular.isString(n)){s.push(n)}return this}else{if(o){return s[0]}else{return s}}};this.use=function(e){if(e){if(!t[e]&&!m){throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'")}u=e;return this}return u};var L=function(e){if(!e){if(c){return c+l}return l}l=e};this.storageKey=L;this.useUrlLoader=function(e){return this.useLoader("$translateUrlLoader",{url:e})};this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)};this.useLoader=function(e,t){m=e;y=t||{};return this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(e){f=e;return this};this.storagePrefix=function(e){if(!e){return e}c=e;return this};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(e){h=e;return this};this.usePostCompiling=function(e){E=!!e;return this};this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():x();if(!r.length){n=t}else{n=T(t)}return this};this.registerAvailableLanguageKeys=function(e,t){if(e){r=e;if(t){i=t}return this}return r};this.$get=["$log","$injector","$rootScope","$q",function(e,r,i,c){var S,x=r.get(p||"$translateDefaultInterpolation"),A=false,O={},M={},_,D;var P=function(e,t,r){if(angular.isArray(e)){var i=function(e){var n={};var i=[];var s=function(e){var i=c.defer();var s=function(t){n[e]=t;i.resolve([e,t])};P(e,t,r).then(s,s);return i.promise};for(var o=0,u=e.length;o<u;o++){i.push(s(e[o]))}return c.all(i).then(function(){return n})};return i(e)}var o=c.defer();if(e){e=e.trim()}var a=function(){var e=n?M[n]:M[u];_=0;if(f&&!e){var t=S.get(l);e=M[t];if(s&&s.length){var r=H(s,t);_=r>-1?r+=1:0;s.push(n)}}return e}();if(!a){V(e,t,r).then(o.resolve,o.reject)}else{a.then(function(){V(e,t,r).then(o.resolve,o.reject)},o.reject)}return o.promise};var H=function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1};var B=function(e){if(b){e=[b,e].join(" ")}if(w){e=[e,w].join(" ")}return e};var j=function(e){u=e;i.$emit("$translateChangeSuccess");if(f){S.set(P.storageKey(),u)}x.setLocale(u);angular.forEach(O,function(e,t){O[t].setLocale(u)});i.$emit("$translateChangeEnd")};var F=function(e){if(!e){throw"No language key specified for loading."}var t=c.defer();i.$emit("$translateLoadingStart");A=true;r.get(m)(angular.extend(y,{key:e})).then(function(n){var r={};i.$emit("$translateLoadingSuccess");if(angular.isArray(n)){angular.forEach(n,function(e){angular.extend(r,C(e))})}else{angular.extend(r,C(n))}A=false;t.resolve({key:e,table:r});i.$emit("$translateLoadingEnd")},function(e){i.$emit("$translateLoadingError");t.reject(e);i.$emit("$translateLoadingEnd")});return t.promise};if(f){S=r.get(f);if(!S.get||!S.set){throw new Error("Couldn't use storage '"+f+"', missing get() or set() method!")}}if(angular.isFunction(x.useSanitizeValueStrategy)){x.useSanitizeValueStrategy(v)}if(d.length){angular.forEach(d,function(e){var t=r.get(e);t.setLocale(n||u);if(angular.isFunction(t.useSanitizeValueStrategy)){t.useSanitizeValueStrategy(v)}O[t.getInterpolationIdentifier()]=t})}var I=function(e){var n=c.defer();if(t.hasOwnProperty(e)){n.resolve(t[e]);return n.promise}else{M[e].then(function(e){N(e.key,e.table);n.resolve(e.table)},n.reject)}return n.promise};var q=function(e,t,n,r){var i=c.defer();I(e).then(function(s){if(s.hasOwnProperty(t)){r.setLocale(e);i.resolve(r.interpolate(s[t],n));r.setLocale(u)}else{i.reject()}},i.reject);return i.promise};var R=function(e,n,r,i){var s,o=t[e];if(o.hasOwnProperty(n)){i.setLocale(e);s=i.interpolate(o[n],r);i.setLocale(u)}return s};var U=function(e,t,n,i){var o=c.defer();if(e<s.length){var a=s[e];q(a,t,n,i).then(function(e){o.resolve(e)},function(){var r=U(e+1,t,n,i);o.resolve(r)})}else{if(h){var f=r.get(h)(t,u);if(f!==undefined){o.resolve(f)}else{o.resolve(t)}}else{o.resolve(t)}}return o.promise};var z=function(e,t,n,r){var i;if(e<s.length){var o=s[e];i=R(o,t,n,r);if(!i){i=z(e+1,t,n,r)}}return i};var W=function(e,t,n){return U(D>0?D:_,e,t,n)};var X=function(e,t,n){return z(D>0?D:_,e,t,n)};var V=function(e,n,i){var o=c.defer();var a=u?t[u]:t,f=i?O[i]:x;if(a&&a.hasOwnProperty(e)){var l=a[e];if(l.substr(0,2)==="@:"){P(l.substr(2),n,i).then(o.resolve,o.reject)}else{o.resolve(f.interpolate(l,n))}}else{if(h&&!A){r.get(h)(e,u)}if(u&&s&&s.length){W(e,n,f).then(function(e){o.resolve(e)},function(e){o.reject(B(e))})}else{o.reject(B(e))}}return o.promise};var $=function(e,n,i){var o,a=u?t[u]:t,f=i?O[i]:x;if(a&&a.hasOwnProperty(e)){var l=a[e];if(l.substr(0,2)==="@:"){o=$(l.substr(2),n,i)}else{o=f.interpolate(l,n)}}else{if(h&&!A){r.get(h)(e,u)}if(u&&s&&s.length){_=0;o=X(e,n,f)}else{o=B(e)}}return o};P.preferredLanguage=function(){return n};P.cloakClassName=function(){return g};P.fallbackLanguage=function(e){if(e!==undefined&&e!==null){k(e);if(m){if(s&&s.length){for(var t=0,n=s.length;t<n;t++){if(!M[s[t]]){M[s[t]]=F(s[t])}}}}P.use(P.use())}if(o){return s[0]}else{return s}};P.useFallbackLanguage=function(e){if(e!==undefined&&e!==null){if(!e){D=0}else{var t=H(s,e);if(t>-1){D=t}}}};P.proposedLanguage=function(){return a};P.storage=function(){return S};P.use=function(e){if(!e){return u}var n=c.defer();i.$emit("$translateChangeStart");var r=T(e);if(r){e=r}if(!t[e]&&m){a=e;M[e]=F(e).then(function(t){N(t.key,t.table);n.resolve(t.key);if(a===e){j(t.key);a=undefined}},function(e){a=undefined;i.$emit("$translateChangeError");n.reject(e);i.$emit("$translateChangeEnd")})}else{n.resolve(e);j(e)}return n.promise};P.storageKey=function(){return L()};P.isPostCompilingEnabled=function(){return E};P.refresh=function(e){function r(){n.resolve();i.$emit("$translateRefreshEnd")}function o(){n.reject();i.$emit("$translateRefreshEnd")}if(!m){throw new Error("Couldn't refresh translation table, no loader registered!")}var n=c.defer();i.$emit("$translateRefreshStart");if(!e){var a=[];if(s&&s.length){for(var f=0,l=s.length;f<l;f++){a.push(F(s[f]))}}if(u){a.push(F(u))}c.all(a).then(function(e){angular.forEach(e,function(e){if(t[e.key]){delete t[e.key]}N(e.key,e.table)});if(u){j(u)}r()})}else if(t[e]){F(e).then(function(t){N(t.key,t.table);if(e===u){j(u)}r()},o)}else{o()}return n.promise};P.instant=function(e,i,o){if(e===null||angular.isUndefined(e)){return e}if(angular.isArray(e)){var a={};for(var f=0,l=e.length;f<l;f++){a[e[f]]=P.instant(e[f],i,o)}return a}if(angular.isString(e)&&e.length<1){return e}if(e){e=e.trim()}var c,p=[];if(n){p.push(n)}if(u){p.push(u)}if(s&&s.length){p=p.concat(s)}for(var d=0,v=p.length;d<v;d++){var m=p[d];if(t[m]){if(typeof t[m][e]!=="undefined"){c=$(e,i,o)}}if(typeof c!=="undefined"){break}}if(!c&&c!==""){c=e;if(h&&!A){r.get(h)(e,u)}}return c};if(m){if(angular.equals(t,{})){P.use(P.use())}if(s&&s.length){for(var J=0,K=s.length;J<K;J++){M[s[J]]=F(s[J])}}}return P}]}]);angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,r,i,s){return{restrict:"AE",scope:true,compile:function(t,o){var u=o.translateValues?o.translateValues:undefined;var a=o.translateInterpolation?o.translateInterpolation:undefined;var f=t[0].outerHTML.match(/translate-value-+/i);return function(l,c,h){l.interpolateParams={};h.$observe("translate",function(e){if(angular.equals(e,"")||!angular.isDefined(e)){l.translationId=n(c.text().replace(/^\s+|\s+$/g,""))(l.$parent)}else{l.translationId=e}});h.$observe("translateDefault",function(e){l.defaultText=e});if(u){h.$observe("translateValues",function(e){if(e){l.$parent.$watch(function(){angular.extend(l.interpolateParams,i(e)(l.$parent))})}})}if(f){var p=function(e){h.$observe(e,function(t){l.interpolateParams[angular.lowercase(e.substr(14,1))+e.substr(15)]=t})};for(var d in h){if(h.hasOwnProperty(d)&&d.substr(0,14)==="translateValue"&&d!=="translateValues"){p(d)}}}var v=function(t,n,i){if(!i&&typeof n.defaultText!=="undefined"){t=n.defaultText}c.html(t);var s=e.isPostCompilingEnabled();var u=typeof o.translateCompile!=="undefined";var a=u&&o.translateCompile!=="false";if(s&&!u||a){r(c.contents())(n)}};var m=function(){if(!u&&!f){return function(){var t=l.$watch("translationId",function(n){if(l.translationId&&n){e(n,{},a).then(function(e){v(e,l,true);t()},function(e){v(e,l,false);t()})}},true)}}else{return function(){var t=function(){if(l.translationId&&l.interpolateParams){e(l.translationId,l.interpolateParams,a).then(function(e){v(e,l,true)},function(e){v(e,l,false)})}};l.$watch("interpolateParams",t,true);l.$watch("translationId",t)}}}();var g=s.$on("$translateChangeSuccess",m);m();l.$on("$destroy",g)}}}}]);angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){return function(n,r,i){if(!angular.isObject(r)){r=e(r)(this)}return t.instant(n,r,i)}}])